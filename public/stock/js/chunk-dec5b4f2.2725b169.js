(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dec5b4f2"],{2131:function(t,a,e){},"4b05":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"tradeinfo",staticClass:"tradeinfo",class:{blackStyle:t.isBlackStyle}},[e("div",{ref:"bookWrap",staticClass:"firstLine"},[e("p",[e("span",[t._v(" 委比： "),e("span",{class:t.BookData.BookRate.Color},[t._v(t._s(t.BookData.BookRate.Text))])])]),e("p",[e("span",[t._v(" 委差： "),e("span",{class:t.BookData.BookDiff.Color},[t._v(t._s(t.BookData.BookDiff.Text))])])])]),e("div",{ref:"sellFive",staticClass:"sellFive"},[e("div",t._l(t.SellData,(function(a,o){return e("p",{key:o},[e("span",[t._v(t._s(a.Title))])])})),0),e("div",t._l(t.SellData,(function(a,o){return e("p",{key:o,class:a.Price.Color},[e("span",[t._v(t._s(a.Price.Text))])])})),0),e("div",t._l(t.SellData,(function(a,o){return e("p",{key:o},[e("span",[t._v(t._s(a.Vol.Text))])])})),0)]),e("div",{ref:"buyFive",staticClass:"buyFive"},[e("div",t._l(t.BuyData,(function(a,o){return e("p",{key:o},[e("span",[t._v(t._s(a.Title))])])})),0),e("div",t._l(t.BuyData,(function(a,o){return e("p",{key:o,class:a.Price.Color},[e("span",[t._v(t._s(a.Price.Text))])])})),0),e("div",t._l(t.BuyData,(function(a,o){return e("p",{key:o},[e("span",[t._v(t._s(a.Vol.Text))])])})),0)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.IsShowTradeData,expression:"IsShowTradeData"}],ref:"detailList",staticClass:"detailList"},[e("div",t._l(t.TradeData,(function(a,o){return e("p",{key:o},[e("span",[t._v(t._s(a.Time.Text))])])})),0),e("div",t._l(t.TradeData,(function(a,o){return e("p",{key:o,class:a.Price.Color},[e("span",[t._v(t._s(a.Price.Text))])])})),0),e("div",t._l(t.TradeData,(function(a,o){return e("p",{key:o},[e("span",[t._v(t._s(a.Vol.Text)+" "),e("span",{class:a.BS.Color},[t._v(t._s(a.BS.Text))])])])})),0),e("a",{staticClass:"seeMoreDeal",attrs:{href:t.MoreDealLink,target:"_blank"}},[t._v("点击查看更多分时成交")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.ShortTerm.IsShow,expression:"ShortTerm.IsShow"}],ref:"shorttermlist",staticClass:"shorttermlist"},[e("div",t._l(t.ShortTerm.Data,(function(a,o){return e("p",{key:o,class:a.Color},[t._v(" "+t._s(a.Time.Text)+" ")])})),0),e("div",t._l(t.ShortTerm.Data,(function(a,o){return e("p",{key:o,class:a.Color},[t._v(" "+t._s(a.Name)+" ")])})),0),e("div",t._l(t.ShortTerm.Data,(function(a,o){return e("p",{key:o,class:a.Color},[t._v(" "+t._s(a.Type.Text)+" ")])})),0)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.CapitalFlow.IsShow,expression:"CapitalFlow.IsShow"}],ref:"capitalList",staticClass:"capitalList"},[e("p",{staticClass:"tabTop"},t._l(t.CapitalFlowDayType,(function(a,o){return e("span",{key:o,class:{active:t.CapitalFlowDayIndex==o},on:{click:function(a){return t.ChangeCapitalFlowDay(o)}}},[t._v(t._s(a))])})),0),e("div",{staticClass:"mainFlow"},[e("p",[e("span",[t._v("主力流入")]),e("span",{class:t.CurrentDayCapitaData.MainFlowData.In.Color},[t._v(t._s(t.CurrentDayCapitaData.MainFlowData.In.Text))])]),e("p",[e("span",[t._v("主力流出")]),e("span",{class:t.CurrentDayCapitaData.MainFlowData.Out.Color},[t._v(t._s(t.CurrentDayCapitaData.MainFlowData.Out.Text))])]),e("p",[e("span",[t._v("主力净流向")]),e("span",{class:t.CurrentDayCapitaData.MainFlowData.NetFlow.Color},[t._v(t._s(t.CurrentDayCapitaData.MainFlowData.NetFlow.Text))])])]),e("div",{staticClass:"orderList"},[e("table",[e("thead",[e("tr",[e("td",[t._v(t._s(t.CurrentDayCapitaData.ValueUnit.Text))]),e("td",[t._v("流入")]),e("td",[t._v("流出")])])]),e("tbody",t._l(t.CurrentDayCapitaData.OrderData,(function(a,o){return e("tr",{key:o},[e("td",[t._v(t._s(a.TiTle))]),e("td",{class:a.In.Color},[t._v(t._s(a.In.Text))]),e("td",{class:a.Out.Color},[t._v(t._s(a.Out.Text))])])})),0)])]),e("div",{ref:"netValueWrap",staticClass:"netValueWrap"},[e("div",{ref:"charWrap",staticClass:"charWrap"},[e("div",{ref:"middleLine",staticClass:"middleLine"}),e("div",{staticClass:"bars"},t._l(t.CurrentDayCapitaData.ChartStyleData,(function(a,o){return e("div",{key:o,staticClass:"realArea"},[e("div",{staticClass:"label",style:a.Label},[t._v(" "+t._s(t.CurrentDayCapitaData.NetValueData[o].Text)+" ")]),e("div",[e("div",{staticClass:"content",style:a.Content},[e("div",{staticClass:"bar",style:a.Bar})])])])})),0)]),t._m(0)])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.DealPrice.IsShow,expression:"DealPrice.IsShow"}],ref:"dealpricelist",staticClass:"dealpricelist"},[e("table",{staticClass:"table"},[e("tbody",t._l(t.DealPriceData,(function(a,o){return e("tr",{key:o+"dealprice"},[e("td",{class:a.Price.Color},[t._v(t._s(a.Price.Text))]),e("td",[t._v(t._s(a.Vol))]),e("td",[e("span",{style:a.Bar},[e("span",{staticClass:"buy",style:a.BuyRate}),e("span",{staticClass:"none",style:a.NoneRate}),e("span",{staticClass:"sell",style:a.SellRate})])]),e("td",[t._v(t._s(a.Rate))])])})),0)])])])},l=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"xLabels"},[e("span",[t._v("净超大")]),e("span",[t._v("净大单")]),e("span",[t._v("净中单")]),e("span",[t._v("净小单")])])}];e("99af"),e("c975"),e("4e82"),e("a9e3"),e("b680"),e("d3b7"),e("e25e"),e("25f0");function i(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function r(t,a){for(var e=0;e<a.length;e++){var o=a[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,a,e){return a&&r(t.prototype,a),e&&r(t,e),t}var n=e("1157"),c=e.n(n),h=e("390f"),u=e("fd2c"),S=h["a"].Chart,p=h["a"].Stock,D=function(){function t(){i(this,t)}return s(t,null,[{key:"GetBuyData",value:function(){for(var t=[],a=0;a<5;++a){var e={Vol:{Text:""},Price:{Text:"",Color:""},Title:""};t.push(e)}return t}},{key:"GetSellData",value:function(){return t.GetBuyData()}},{key:"GetTradeData",value:function(){for(var t=[],a=0;a<10;++a){var e={Time:{Text:""},Price:{Text:"",Color:""},Vol:{Text:""},BS:{Text:"",Color:""}};t.push(e)}return t}},{key:"GetBookData",value:function(){var t={BookRate:{Text:"",Color:""},BookDiff:{Text:"",Color:""}};return t}},{key:"GetRowStyle",value:function(){var t={Sell:{top:0,height:0,display:"none"},Buy:{top:0,height:0,display:"none"},Trade:{top:0,height:0,display:"none"}};return t}},{key:"GetRowShortStyle",value:function(){var t={Sell:{top:0,height:0,display:"none"},Buy:{top:0,height:0,display:"none"},Short:{top:0,height:0,display:"none"}};return t}},{key:"GetCapitalFlowSingle",value:function(){var t={MainFlowData:{In:{Value:"",Text:"",Color:"PriceUp"},Out:{Value:"",Text:"",Color:"PriceDown"},NetFlow:{Value:"",Text:"",Color:""}},OrderData:[{TiTle:"超大",In:{Value:"",Text:"",Color:"PriceUp"},Out:{Value:"",Text:"",Color:"PriceDown"}},{TiTle:"大单",In:{Value:"",Text:"",Color:"PriceUp"},Out:{Value:"",Text:"",Color:"PriceDown"}},{TiTle:"中单",In:{Value:"",Text:"",Color:"PriceUp"},Out:{Value:"",Text:"",Color:"PriceDown"}},{TiTle:"小单",In:{Value:"",Text:"",Color:"PriceUp"},Out:{Value:"",Text:"",Color:"PriceDown"}}],NetValueData:[{TiTle:"净超大",Value:"",Text:"",Color:"",Direction:""},{TiTle:"净大单",Value:"",Text:"",Color:"",Direction:""},{TiTle:"净中单",Value:"",Text:"",Color:"",Direction:""},{TiTle:"净小单",Value:"",Text:"",Color:"",Direction:""}],ValueUnit:{Text:"万元"},ChartStyleData:[{Content:{bottom:"",top:""},Bar:{bottom:"",top:"",height:"",bagckgroundColor:""},Label:{bottom:"",top:"",color:""}},{Content:{bottom:"",top:""},Bar:{bottom:"",top:"",height:"",bagckgroundColor:""},Label:{bottom:"",top:"",color:""}},{Content:{bottom:"",top:""},Bar:{bottom:"",top:"",height:"",bagckgroundColor:""},Label:{bottom:"",top:"",color:""}},{Content:{bottom:"",top:""},Bar:{bottom:"",top:"",height:"",bagckgroundColor:""},Label:{bottom:"",top:"",color:""}}]};return t}},{key:"GetCapitalFlow",value:function(){for(var t=[],a=0;a<4;a++){var e={MainFlowData:{In:{Value:"",Text:"",Color:"PriceUp"},Out:{Value:"",Text:"",Color:"PriceDown"},NetFlow:{Value:"",Text:"",Color:""}},OrderData:[{TiTle:"超大",In:{Value:"",Text:"",Color:"PriceUp"},Out:{Value:"",Text:"",Color:"PriceDown"}},{TiTle:"大单",In:{Value:"",Text:"",Color:"PriceUp"},Out:{Value:"",Text:"",Color:"PriceDown"}},{TiTle:"中单",In:{Value:"",Text:"",Color:"PriceUp"},Out:{Value:"",Text:"",Color:"PriceDown"}},{TiTle:"小单",In:{Value:"",Text:"",Color:"PriceUp"},Out:{Value:"",Text:"",Color:"PriceDown"}}],NetValueData:[{TiTle:"净超大",Value:"",Text:"",Color:"",Direction:""},{TiTle:"净大单",Value:"",Text:"",Color:"",Direction:""},{TiTle:"净中单",Value:"",Text:"",Color:"",Direction:""},{TiTle:"净小单",Value:"",Text:"",Color:"",Direction:""}],ValueUnit:{Text:"万元"},ChartStyleData:[{Content:{bottom:"",top:""},Bar:{bottom:"",top:"",height:"",bagckgroundColor:""},Label:{bottom:"",top:"",color:""}},{Content:{bottom:"",top:""},Bar:{bottom:"",top:"",height:"",bagckgroundColor:""},Label:{bottom:"",top:"",color:""}},{Content:{bottom:"",top:""},Bar:{bottom:"",top:"",height:"",bagckgroundColor:""},Label:{bottom:"",top:"",color:""}},{Content:{bottom:"",top:""},Bar:{bottom:"",top:"",height:"",bagckgroundColor:""},Label:{bottom:"",top:"",color:""}}]};t.push(e)}return t}},{key:"GetDealPriceData",value:function(){var t=[{Price:{Text:"",Color:""},Vol:0,Bar:{width:"20px"},Rate:"",WidthRate:0,BuyRate:{width:"20px"},SellRate:{width:"20px"},NoneRate:{width:"20px"}}];return t}}]),t}();function C(){}C.DefaultStyleData=function(){for(var t=[],a=0;a<4;a++){var e={Content:{bottom:"",top:""},Bar:{bottom:"",top:"",height:"",bagckgroundColor:""},Label:{bottom:"",top:"",color:""}};t.push(e)}return t};var T={JSCommonStock:p,name:"StockTradeInfo",props:["IsShareStock","DefaultSymbol"],data:function(){var t={Symbol:"600000.sh",ID:[S.JSChart.CreateGuid(),S.JSChart.CreateGuid(),S.JSChart.CreateGuid(),S.JSChart.CreateGuid()],JSStock:null,RowStyle:D.GetRowStyle(),BuyData:D.GetBuyData(),SellData:D.GetSellData(),IsBuySellInital:!1,TradeData:null,IsTradeDataInital:!1,IsShowTradeData:!0,ShortTerm:{Data:null,IsShow:!1,JSStock:null},CapitalFlow:{Data:D.GetCapitalFlow(),IsShow:!1},CurrentDayCapitaData:D.GetCapitalFlowSingle(),CapitalFlowDayType:["当日","3日","5日","10日"],CapitalFlowDayIndex:0,CapitalFlowUnit:{TextAry:[],IsTenThousand:!0},BookData:D.GetBookData(),DealPrice:{IsShow:!1,Data:null,JSStock:null},DealPriceData:D.GetDealPriceData(),MoreDealLink:"",isBlackStyle:!1};return t},mounted:function(){console.log("[StockTradeInfo::mounted] IsShareStock=".concat(this.IsShareStock," ID=").concat(this.ID)),1==this.IsShareStock||"true"==this.IsShareStock||(this.JSStock=Object(u["b"])(),this.InitalStock(),this.JSStock.RequestData()),this.MoreDealLink="./stockdeallastest.demo.page.html?symbol="+this.Symbol,this.OnSize()},created:function(){this.DefaultSymbol&&(this.Symbol=this.DefaultSymbol)},methods:{ChangeCapitalFlowDay:function(t){this.CapitalFlowDayIndex=t,this.CurrentDayCapitaData=this.CapitalFlow.Data[t]},UpdateBuySell:function(t,a,e,o){if(!(a.indexOf(this.Symbol)<0)){var l=o.GetStockRead(this.ID[0],this.UpdateBuySell),i=l.Get(this.Symbol,p.STOCK_FIELD_NAME.BUY5),r=l.Get(this.Symbol,p.STOCK_FIELD_NAME.SELL5),s=l.Get(this.Symbol,p.STOCK_FIELD_NAME.YCLOSE),n=["卖一","卖二","卖三","卖四","卖五"],c=["买一","买二","买三","买四","买五"];if(this.IsPlusNumber(s)&&(1!=this.IsBuySellInital||t==this.ID[0]&&e==p.RECV_DATA_TYPE.BUY_SELL_DATA)){console.log("[StockTradeInfo::UpdateBuySell]",this.Symbol,i,r,s);var h=D.GetBuyData();for(var u in i){var C=i[u],T=h[u];T.Title=c[u],C.Price<=0||(T.Vol.Text=C.Vol.toString(),T.Price.Text=S.IFrameSplitOperator.FormatValueString(C.Price,2),T.Price.Color=S.IFrameSplitOperator.FormatValueColor(C.Price,s))}var d=D.GetSellData();for(var u in r){C=r[u];var m=d[u];m.Title=n[u],C.Price<=0||(m.Vol.Text=C.Vol.toString(),m.Price.Text=S.IFrameSplitOperator.FormatValueString(C.Price,2),m.Price.Color=S.IFrameSplitOperator.FormatValueColor(C.Price,s))}this.IsBuySellInital=!0,this.SellData=d.reverse(),this.BuyData=h}}},SetJSStock:function(t){this.JSStock=t},ChangeStyle:function(t){this.isBlackStyle="black"===t},OnSize:function(){var t=this.$refs.tradeinfo,a=this.$refs.bookWrap,e=this.$refs.sellFive,o=this.$refs.buyFive,l=this.$refs.dealpricelist,i=this.$refs.detailList,r=t.clientHeight,s=r-a.offsetHeight-e.offsetHeight-o.offsetHeight;l.style.height=s+"px",i.style.height=r-67-240-3+"px"},RequestData:function(){this.JSStock.RequestData()},UpdateBookRate:function(t,a,e,o){if(!(a.indexOf(this.Symbol)<0)){var l=o.GetStockRead(this.ID[2],this.UpdateBookRate),i={Value:l.Get(this.Symbol,p.STOCK_FIELD_NAME.BOOK_RATE)},r={Value:l.Get(this.Symbol,p.STOCK_FIELD_NAME.BOOK_DIFFER)};if(t==this.ID[2]&&e==p.RECV_DATA_TYPE.DERIVATIVE_DATA){var s=D.GetBookData();s.BookRate.Text=S.IFrameSplitOperator.FormatValueString(i.Value,2)+"%",s.BookRate.Color=S.IFrameSplitOperator.FormatValueColor(i.Value,0),s.BookDiff.Text=r.Value,s.BookDiff.Color=S.IFrameSplitOperator.FormatValueColor(r.Value,0),this.BookData=s,console.log("[UpdateBookRate BookData]",this.BookData)}}},UpdateTrade:function(t,a,e,o){if(!(a.indexOf(this.Symbol)<0)){var l=o.GetStockRead(this.ID[1],this.UpdateTrade),i=l.Get(this.Symbol,p.STOCK_FIELD_NAME.DEAL),r=l.Get(this.Symbol,p.STOCK_FIELD_NAME.YCLOSE);if(console.log("[StockTradeInfo::UpdateTrade]",this.Symbol,i,r),this.IsPlusNumber(r)&&i&&(1!=this.IsTradeDataInital||t==this.ID[1]&&e==p.RECV_DATA_TYPE.DEAL_DATA)){var s=D.GetTradeData();console.log(s);for(var n=0;n<i.length&&n<s.length;n++){var c=i[n],h=s[n],u=parseInt(c.Time/100);h.Time.Text=S.IFrameSplitOperator.FormatTimeString(u),h.Price.Text=S.IFrameSplitOperator.FormatValueString(c.Price,2),h.Price.Color=S.IFrameSplitOperator.FormatValueColor(c.Price,r),h.Vol.Text=parseInt(c.Vol/100).toString(),"B"==c.BS?h.BS={Color:"PriceUp",Text:" B"}:"S"==c.BS?h.BS={Color:"PriceDown",Text:" S"}:h.BS={Color:"Transparent",Text:" B"}}this.IsTradeDataInital=!0,this.TradeData=s}}},InitalCapitalFlow:function(){var t=[p.STOCK_FIELD_NAME.CAPITAL_FLOW_DAY,p.STOCK_FIELD_NAME.CAPITAL_FLOW_DAY3,p.STOCK_FIELD_NAME.CAPITAL_FLOW_DAY5,p.STOCK_FIELD_NAME.CAPITAL_FLOW_DAY10],a=this.JSStock.GetStockRead(this.ID[3],this.UpdateCapitalFlow);""!=this.Symbol&&a.SetQueryField(this.Symbol,t)},UpdateCapitalFlow:function(t,a,e,o){var l=o.GetStockRead(this.ID[3],this.UpdateCapitalFlow);if(this.CapitalFlow.IsShow&&!(a.indexOf(this.Symbol)<0)){var i=l.Get(this.Symbol,p.STOCK_FIELD_NAME.CAPITAL_FLOW_DAY),r=l.Get(this.Symbol,p.STOCK_FIELD_NAME.CAPITAL_FLOW_DAY3),s=l.Get(this.Symbol,p.STOCK_FIELD_NAME.CAPITAL_FLOW_DAY5),n=l.Get(this.Symbol,p.STOCK_FIELD_NAME.CAPITAL_FLOW_DAY10);i&&this.RecvCapticalData(i,0),r&&this.RecvCapticalData(r,1),s&&this.RecvCapticalData(s,2),n&&this.RecvCapticalData(n,3),this.CurrentDayCapitaData=this.CapitalFlow.Data[this.CapitalFlowDayIndex],console.log("[StockTradeInfo::UpdateCapitalFlow]",this.Symbol,i,r,s,n)}},InitCapitalFlowChart:function(t,a){for(var e=t,o=0,l=0;l<e.length;l++)Math.abs(e[l].Value)>o&&(o=Math.abs(e[l].Value));for(var i=0;i<e.length;i++){var r=Math.abs(e[i].Value),s=Number(r/o).toFixed(4),n=(c()(".charWrap").height()-1)/2,h=Math.floor(s*n);0==h&&0!==r&&(h=2);var u=n+1,S=e[i].Direction;"upper"==S?a[i]={Content:{bottom:u+"px",top:"auto"},Bar:{bottom:"0",top:"auto",height:h+"px",backgroundColor:"#ee1515"},Label:{bottom:"auto",top:n+"px",color:"#ee1515"}}:"below"==S&&(a[i]={Content:{bottom:"auto",top:u+"px"},Bar:{bottom:"auto",top:"0",height:h+"px",backgroundColor:"#199e00"},Label:{bottom:n+"px",top:"auto",color:"#199e00"}})}},RecvCapticalData:function(t,a){var e=t.SuperIn,o=t.SuperOut,l=t.BigIn,i=t.BigOut,r=t.MidIn,s=t.MidOut,n=t.SmallIn,c=t.SmallOut,h=t.MainIn,u=t.MainOut,p=t.MainNetIn,D=e-o,C=l-i,T=r-s,d=n-c,m=this.CapitalFlow.Data[a].MainFlowData;m.In.value=h,m.In.Text=this.FormatValueString(h,!0,0),m.Out.value=u,m.Out.Text=this.FormatValueString(u,!0,0),m.NetFlow.value=p,m.NetFlow.Text=this.FormatValueString(p,!0,0),m.NetFlow.Color=S.IFrameSplitOperator.FormatValueColor(p,0);for(var I=[{In:e,Out:o},{In:l,Out:i},{In:r,Out:s},{In:n,Out:c}],v=this.CapitalFlow.Data[a].OrderData,y=0;y<I.length;y++){var f=I[y];v[y].In.Value=f.In,v[y].In.Text=this.FormatValueString(f.In,!1,0),v[y].Out.Value=f.Out,v[y].Out.Text=this.FormatValueString(f.Out,!1,0)}for(var _=[{Value:D},{Value:C},{Value:T},{Value:d}],b=this.CapitalFlow.Data[a].NetValueData,w=0;w<_.length;w++){var F=_[w];b[w].Value=F.Value,b[w].Text=this.FormatValueString(F.Value,!1,0),b[w].Color=S.IFrameSplitOperator.FormatValueColor(F.Value,0),b[w].Direction=F.Value>0?"upper":"below"}var k=this.CapitalFlow.Data[a].ChartStyleData;this.InitCapitalFlowChart(b,k),this.CapitalFlow.Data[a].MainFlowData=m,this.CapitalFlow.Data[a].OrderData=v,this.CapitalFlow.Data[a].NetValueData=b,this.CapitalFlow.Data[a].ChartStyleData=k},FormatValueString:function(t,a,e){return a?Number(t/1e4).toFixed(e)+"万元":Number(t/1e4).toFixed(e)},SetSymbol:function(t){this.Symbol!=t&&(console.log("[StockTradeInfo::SetSymbol] symbol=".concat(this.Symbol)),this.Symbol=t,this.IsBuySellInital=!1,this.IsTradeDataInital=!1,this.InitalStock(),this.IsSHSZIndex(this.Symbol)?this.ShowCapitalFlow(!1):this.InitalCapitalFlow(),this.IsShareStock||this.JSStock.RequestData(),this.MoreDealLink="./stockdeallastest.demo.page.html?symbol="+this.Symbol,this.DealPrice.JSStock&&this.DealPrice.IsShow&&(this.DealPrice.JSStock.Symbol=this.Symbol,this.DealPrice.JSStock.RequestData()))},InitalStock:function(){if(!this.IsSHSZIndex()){var t=this.JSStock.GetStockRead(this.ID[0],this.UpdateBuySell);t.SetQueryField(this.Symbol,[p.STOCK_FIELD_NAME.BUY5,p.STOCK_FIELD_NAME.SELL5,p.STOCK_FIELD_NAME.YCLOSE]),t=this.JSStock.GetStockRead(this.ID[1],this.UpdateTrade),t.SetQueryField(this.Symbol,[p.STOCK_FIELD_NAME.DEAL,p.STOCK_FIELD_NAME.YCLOSE]),t=this.JSStock.GetStockRead(this.ID[2],this.UpdateBookRate),t.SetQueryField(this.Symbol,[p.STOCK_FIELD_NAME.BOOK_RATE,p.STOCK_FIELD_NAME.BOOK_DIFFER])}},IsSHSZIndex:function(){return S.MARKET_SUFFIX_NAME.IsSHSZIndex(this.Symbol)},ChangeShowData:function(t,a){switch(console.log("[StockTradeInfo::ChangeShowData]",t,a),t){case"分笔":this.IsShowTradeData=!0,this.ShowShortTerm(!1),this.ShowCapitalFlow(!1),this.ShowDealPrice(!1);break;case"异动":this.IsShowTradeData=!1,this.ShowCapitalFlow(!1),this.ShowDealPrice(!1),this.ShowShortTerm(!0);break;case"资金":this.IsShowTradeData=!1,this.ShowShortTerm(!1),this.ShowDealPrice(!1),this.ShowCapitalFlow(!0);break;case"分价":this.IsShowTradeData=!1,this.ShowShortTerm(!1),this.ShowCapitalFlow(!1),this.ShowDealPrice(!0);break}this.OnSize()},ShowShortTerm:function(t){if(t){this.ShortTerm.JSStock||(this.ShortTerm.JSStock=p.JSStock.GetShortTerm());var a=this.ShortTerm.JSStock;a.UpdateUICallback=this.UpdateShortTerm,a.IsAutoUpdate=!0,a.RequestData(),this.ShortTerm.IsShow=!0}else{if(this.ShortTerm.IsShow=!1,!this.ShortTerm.JSStock)return;this.ShortTerm.JSStock.IsAutoUpdate=!1,this.ShortTerm.JSStock.Stop()}},ShowCapitalFlow:function(t){t?(this.CapitalFlow.IsShow=!0,this.InitalCapitalFlow(),this.RequestData()):(this.JSStock.Unsubscribe(this.ID[3]),this.CapitalFlow.IsShow=!1)},UpdateShortTerm:function(t){console.log("[StockTradeInfo::UpdateShortTerm] recv data",t);var a=[];for(var e in t.Data){var o=t.Data[e],l={Name:o.Name,Symbol:o.Symbol,Type:{Text:o.TypeInfo,Value:o.Type},Time:{Value:o.Time},Color:"PriceNull"};l.Time.Text=S.IFrameSplitOperator.FormatTimeString(parseInt(l.Time.Value/100)),l.Color=l.Type.Value%10===1?"PriceUp":"PriceDown",a.push(l)}this.ShortTerm.Data=a,this.OnSize()},ShowDealPrice:function(t){if(t){this.DealPrice.IsShow=!0,this.DealPrice.JSStock||(this.DealPrice.JSStock=p.JSStock.GetDealPriceListData());var a=this.DealPrice.JSStock;a.Symbol=this.Symbol,a.UpdateUICallback=this.UpdateDealPrice,a.IsAutoUpdate=!0,a.RequestData()}else{if(this.DealPrice.IsShow=!1,!this.DealPrice.JSStock)return;this.DealPrice.JSStock.IsAutoUpdate=!1,this.DealPrice.JSStock.Stop()}},UpdateDealPrice:function(t){console.log("[StockTradeInfo::UpdateDealPrice]",t.Data);for(var a=t.Data.Day.YClose,e=t.Data.PriceList,o=0,l=0;l<e.length;++l){var i=e[l];i.Vol>o&&(o=i.Vol)}for(var r=.25,s=5,n=this.$refs.dealpricelist.clientWidth*r-s,c=[],h=0;h<e.length;++h){i=e[h];var u=i.Vol,p=i.BuyVol/u,D=i.SellVol/u,C=i.NoneVol/u,T={},d={width:"20px"};T.Price={Text:S.IFrameSplitOperator.FormatValueString(i.Price,2),Color:"",Value:i.Price},T.Vol=parseInt(i.Vol/100),T.Rate=S.IFrameSplitOperator.FormatValueString(100*i.Proportion,2)+"%";var m=S.IFrameSplitOperator.FormatValueColor(i.Price,a);T.Price.Color=m,T.WidthRate=i.Vol/o;var I=n*T.WidthRate>1?n*T.WidthRate:1;d.width=I+"px";var v=p*I+"px",y=D*I+"px",f=C*I+"px";T.BuyRate={width:v},T.SellRate={width:y},T.NoneRate={width:f},T.Bar=d,c.push(T)}c.sort((function(t,a){return a.Price.Value-t.Price.Value})),this.DealPriceData=c,console.log("[::StockTradeInfo]backgroundColor:",this.DealPriceData)},IsNumber:S.IFrameSplitOperator.IsNumber,IsPlusNumber:S.IFrameSplitOperator.IsPlusNumber}},d=T,m=(e("7d43"),e("2877")),I=Object(m["a"])(d,o,l,!1,null,"235af566",null);a["default"]=I.exports},"7d43":function(t,a,e){"use strict";var o=e("2131"),l=e.n(o);l.a}}]);