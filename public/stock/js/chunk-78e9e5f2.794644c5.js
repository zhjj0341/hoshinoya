(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78e9e5f2"],{"390f":function(t,a,e){"use strict";var i=e("50b6"),n=e.n(i),r=n.a.Chart.JSChart.GetResource();r.FrameLogo.Text="",window.a=n.a,console.log(n.a,"=============================="),a["a"]=n.a},"844d":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"m-train"},[e("div",{staticClass:"title"},[t._v(" 双盲训练 "),e("div",{staticClass:"statistic",domProps:{innerHTML:t._s(t.trainResult)}})]),e("div",{ref:"kline",attrs:{id:"kline"}}),e("div",{staticClass:"operation"},[0===t.buySellStatus?e("button",{staticClass:"buy",on:{click:t.Buy}},[t._v("买入")]):e("button",{staticClass:"sell",on:{click:t.Sell}},[t._v("卖出")]),e("div",{staticClass:"filler"}),e("div",{staticClass:"round",domProps:{innerHTML:t._s(t.trainInfo)}}),e("button",{on:{click:t.MoveNextLine}},[t._v("观望")])])])},n=[],r=(e("99af"),e("b680"),e("309c"),e("df44"),e("1157")),s=e.n(r),o=e("390f"),l=o["a"].Chart,h={name:"Train",data:function(){return{Kline:{JSChart:null,IsShow:!1,Option:{Type:"K线训练",Windows:[{Index:"MA",Modify:!1,Change:!1},{Index:"VOL",Modify:!1,Change:!1}],Symbol:"600000.sh",IsAutoUpate:!1,IsShowRightMenu:!1,CorssCursorTouchEnd:!0,CorssCursorInfo:{Left:0,Right:2,Bottom:1,IsShowCorss:!0},KLine:{Right:0,Period:0,MaxReqeustDataCount:2e3,PageSize:50,IsShowTooltip:!1,RightSpaceCount:2},KLineTitle:{IsShowName:!1,IsShowSettingInfo:!1,IsShowDateTime:!0},Border:{Top:1,Left:1,Right:1},Frame:[{SplitCount:3,IsShowLeftText:!1},{SplitCount:2,IsShowLeftText:!1}],Train:{DataCount:200},ExtendChart:[{Name:"KLineTooltip"},{Name:"背景图",FrameID:0}]}},LatestKData:null,LatestTrade:null,AryTrade:[],OrderID:10,buySellStatus:0,trainResult:"成绩:",trainInfo:""}},created:function(){},mounted:function(){this.Create()},watch:{},methods:{Create:function(){var t=this;this.OnSize(),window.onresize=function(){t.OnSize()},this.Kline.JSChart=l.JSChart.Init(this.$refs.kline);var a=l.HQChartStyle.GetStyleConfig(l.STYLE_TYPE_ID.BLACK_ID);console.log(a,"blackStyle=================================="),l.JSChart.SetStyle(a),this.$refs.kline.style.backgroundColor="#1a1c30",this.Kline.JSChart.SetOption(this.Kline.Option),this.Kline.JSChart.AddEventCallback({event:l.JSCHART_EVENT_ID.RECV_TRAIN_MOVE_STEP,callback:function(a,e,i){t.OnKLineMove(a,e,i)}})},OnSize:function(){var t=s()("#kline").height(),a=s()("#kline").width();s()("#kline").width(a),s()("#kline").height(t)},OnKLineMove:function(t,a,e){console.log("[KLineChart::OnKLineMove] data",a),this.LatestKData=a.LastShowData;var i="日期:".concat(this.LatestKData.Date);this.LatestKData.Time&&(i="日期:".concat(this.LatestKData.Date," 时间:").concat(this.LatestKData.Time));var n="状态:".concat(a.Description," ").concat(i," 最新价格: ").concat(this.LatestKData.Close.toFixed(2)," 剩余数据:").concat(a.TrainDataCount);this.trainInfo=n,a.TrainDataCount<=0&&(this.LatestKData=null)},MoveNextLine:function(){this.Kline.JSChart.JSChartContainer.MoveNextKLineData()},buyOrSell:function(){this.Kline.JSChart.JSChartContainer.BuyOrSell()},Sell:function(){if(this.LatestKData){++this.OrderID;var t={Price:this.LatestKData.Close,Vol:10,Op:1,ID:this.OrderID};this.LatestTrade=t;var a=this.AryTrade[this.AryTrade.length-1];a.Sell={Price:t.Price,ID:t.ID,Date:this.LatestKData.Date,Time:this.LatestKData.Time},this.CalulateScore(),this.buySellStatus=0,this.Kline.JSChart.JSChartContainer.BuyOrSell(t,!1),this.Kline.JSChart.JSChartContainer.MoveNextKLineData()}},Buy:function(){if(this.LatestKData){++this.OrderID;var t={Price:this.LatestKData.Close,Vol:10,Op:0,ID:this.OrderID};this.LatestTrade=t;var a={Buy:{Price:t.Price,ID:t.ID,Date:this.LatestKData.Date,Time:this.LatestKData.Time}};this.AryTrade.push(a),this.buySellStatus=1,this.Kline.JSChart.JSChartContainer.BuyOrSell(t,!1),this.Kline.JSChart.JSChartContainer.MoveNextKLineData(),this.CalulateScore()}},Run:function(){this.Kline.JSChart.JSChartContainer.Run()},Stop:function(){this.Kline.JSChart.JSChartContainer.Stop()},GetBGChartPaint:function(){for(var t in this.Kline.JSChart.JSChartContainer.ExtendChartPaint){var a=this.Kline.JSChart.JSChartContainer.ExtendChartPaint[t];if("BackgroundPaint"===a.ClassName)return a}return null},CalulateScore:function(){var t=0,a=0,e=[];for(var i in this.AryTrade){var n=this.AryTrade[i];if(n.Buy&&n.Sell){var r={Start:{Date:n.Buy.Date,Time:n.Buy.Time},End:{Date:n.Sell.Date,Time:n.Sell.Time}};n.Buy.Price<n.Sell.Price?(++a,r.Color="rgba(250,128,114,0.5)"):r.Color="rgba(152,251,152,0.5)",e.push(r),++t}}var s=0;t>0&&(s=a/t);var o="成绩:交易次数".concat(t," 成功次数").concat(a," 胜率:").concat(s.toFixed(2));this.trainResult=o;var l=this.GetBGChartPaint();l&&(l.Data=e)},RestartTrain:function(){this.AryTrade=[],this.LatestKData=null,this.LatestTrade=null,this.trainResult="成绩:",this.trainInfo="加载中......",this.buySellStatus=0;var t=this.GetBGChartPaint();t&&(t.Data=null);var a={Symbol:"000001.sz",Train:{DataCount:30,DateTime:{Date:20190301}},Period:0,Right:1};this.Kline.JSChart.JSChartContainer.RestartTrain(a)}}},u=h,c=(e("f417"),e("2877")),C=Object(c["a"])(u,i,n,!1,null,null,null);a["default"]=C.exports},e4c4:function(t,a,e){},f417:function(t,a,e){"use strict";var i=e("e4c4"),n=e.n(i);n.a}}]);